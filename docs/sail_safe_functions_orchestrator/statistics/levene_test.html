<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>sail_safe_functions_orchestrator.statistics.levene_test API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>sail_safe_functions_orchestrator.statistics.levene_test</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from typing import Tuple

from sail_safe_functions.statistics.levene_aggregate import LeveneAggregate
from sail_safe_functions.statistics.levene_precompute import LevenePrecompute
from sail_safe_functions_orchestrator import statistics
from sail_safe_functions_orchestrator.series_federated import SeriesFederated
from sail_safe_functions_orchestrator.statistics.estimator import Estimator
from scipy import stats
from scipy.stats import distributions


def levene_test(
    sample_0: SeriesFederated,
    sample_1: SeriesFederated,
) -&gt; Tuple[float, float]:
    &#34;&#34;&#34;
    Perform federated Levene test for equal variances.

        :param sample_0: The first sample of data
        :type sample_0: SeriesFederated
        :param sample_1: The second sample of data
        :type sample_1:  federated series
        :return: F-stat, p-value
        :rtype: Tuple[float, float]


    Definition
    -----------
    The Levene test tests the null hypothesis that all input samples
    are from populations with equal variances.  Levene&#39;s test is an
    alternative to Bartlett&#39;s test `bartlett` in the case where
    there are significant deviations from normality.

    In statistics, Levene’s test is an inferential statistic used to
    evaluate the equality of variances for a variable determined for two
    or more groups. Some standard statistical procedures find that variances
    of the populations from which various samples are formed are equal.
    Levene’s test assesses this assumption. It examines the null hypothesis
    that the population variances are equal called homogeneity of variance or
    homoscedasticity. It compares the variances of k samples, where k can be more
    than two samples.
    It’s an alternative to Bartlett’s test that is less sensitive to
    departures from normality.
    There are several solutions to test for the equality (homogeneity)
    of variance across groups, including:

    -F-test

    -Bartlett’s test

    -Levene’s test

    -Fligner-Killeen test

    Examples
    --------
    Test whether or not the lists `a`, `b` and `c` come from populations
    with equal variances.

    &gt;&gt;&gt; from sail_safe_functions_orchestrator.statistics.levene_test import LeveneTest
    &gt;&gt;&gt; from sail_safe_functions_test.helper_sail_safe_functions.series_federated_local import SeriesFederatedLocal

    &gt;&gt;&gt; sample_0 = SeriesFederatedLocal(&#34;sample_0&#34;)
    &gt;&gt;&gt; sample_0.add_array(&#34;array_test&#34;, np.array([17.2, 20.9, 22.6, 18.1, 21.7, 21.4, 23.5,]) )
    &gt;&gt;&gt; sample_1 = SeriesFederatedLocal(&#34;sample_1&#34;)
    &gt;&gt;&gt; sample_1.add_array(&#34;array_test&#34;, np.array([21.5, 22.8, 21.0, 23.0, 21.6, 23.6, 22.5,]))

    &gt;&gt;&gt; estimator = LeveneTest()
    &gt;&gt;&gt; f_statistic_sail, p_value_sail = estimator.run(sample_0, sample_1)

    The small p-value suggests that the populations do not have equal
    variances.
    This is not surprising, given that the sample variance of `b` is much
    larger than that of `a` and `c`:

    References
    -----------
    ..[1] https://en.wikipedia.org/wiki/Levene%27s_test
    ..[2] https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html


    &#34;&#34;&#34;
    estimator = LeveneTest()
    return estimator.run(sample_0, sample_1)


class LeveneTest(Estimator):
    &#34;&#34;&#34;
    This class contains the federated Levenes method

    :return: f_statistic(statistics from levenes test)  , p-value

    :rtype: float
    &#34;&#34;&#34;

    def __init__(self) -&gt; None:
        super().__init__([&#34;f_statistic&#34;, &#34;p_value&#34;])

    def run(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
        mean_sample_0 = statistics.mean(sample_0)
        mean_sample_1 = statistics.mean(sample_1)

        list_list_precompute = []
        list_key_dataframe = list(sample_0.dict_series.keys())
        # TODO deal with posibilty sample_0 and sample_1 do net share same child frames
        for key_dataframe in list_key_dataframe:
            list_list_precompute.append(
                LevenePrecompute.run(
                    sample_0.dict_series[key_dataframe],
                    sample_1.dict_series[key_dataframe],
                    mean_sample_0,
                    mean_sample_1,
                )
            )

        f_statistic, dof = LeveneAggregate.run(list_list_precompute)
        p_value = distributions.f.sf(f_statistic, 1, dof)  # 1 - cdf
        return f_statistic, p_value

    def run_reference(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
        return stats.levene(sample_0.to_numpy(), sample_1.to_numpy(), center=&#34;mean&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="sail_safe_functions_orchestrator.statistics.levene_test.levene_test"><code class="name flex">
<span>def <span class="ident">levene_test</span></span>(<span>sample_0: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>, sample_1: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>) ‑> Tuple[float, float]</span>
</code></dt>
<dd>
<div class="desc"><p>Perform federated Levene test for equal variances.</p>
<pre><code>:param sample_0: The first sample of data
:type sample_0: SeriesFederated
:param sample_1: The second sample of data
:type sample_1:  federated series
:return: F-stat, p-value
:rtype: Tuple[float, float]
</code></pre>
<h2 id="definition">Definition</h2>
<p>The Levene test tests the null hypothesis that all input samples
are from populations with equal variances.
Levene's test is an
alternative to Bartlett's test <code>bartlett</code> in the case where
there are significant deviations from normality.</p>
<p>In statistics, Levene’s test is an inferential statistic used to
evaluate the equality of variances for a variable determined for two
or more groups. Some standard statistical procedures find that variances
of the populations from which various samples are formed are equal.
Levene’s test assesses this assumption. It examines the null hypothesis
that the population variances are equal called homogeneity of variance or
homoscedasticity. It compares the variances of k samples, where k can be more
than two samples.
It’s an alternative to Bartlett’s test that is less sensitive to
departures from normality.
There are several solutions to test for the equality (homogeneity)
of variance across groups, including:</p>
<p>-F-test</p>
<p>-Bartlett’s test</p>
<p>-Levene’s test</p>
<p>-Fligner-Killeen test</p>
<h2 id="examples">Examples</h2>
<p>Test whether or not the lists <code>a</code>, <code>b</code> and <code>c</code> come from populations
with equal variances.</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; from sail_safe_functions_orchestrator.statistics.levene_test import LeveneTest
&gt;&gt;&gt; from sail_safe_functions_test.helper_sail_safe_functions.series_federated_local import SeriesFederatedLocal
</code></pre>
<pre><code class="language-python-repl">&gt;&gt;&gt; sample_0 = SeriesFederatedLocal(&quot;sample_0&quot;)
&gt;&gt;&gt; sample_0.add_array(&quot;array_test&quot;, np.array([17.2, 20.9, 22.6, 18.1, 21.7, 21.4, 23.5,]) )
&gt;&gt;&gt; sample_1 = SeriesFederatedLocal(&quot;sample_1&quot;)
&gt;&gt;&gt; sample_1.add_array(&quot;array_test&quot;, np.array([21.5, 22.8, 21.0, 23.0, 21.6, 23.6, 22.5,]))
</code></pre>
<pre><code class="language-python-repl">&gt;&gt;&gt; estimator = LeveneTest()
&gt;&gt;&gt; f_statistic_sail, p_value_sail = estimator.run(sample_0, sample_1)
</code></pre>
<p>The small p-value suggests that the populations do not have equal
variances.
This is not surprising, given that the sample variance of <code>b</code> is much
larger than that of <code>a</code> and <code>c</code>:</p>
<h2 id="references">References</h2>
<p>..[1] <a href="https://en.wikipedia.org/wiki/Levene%27s_test">https://en.wikipedia.org/wiki/Levene%27s_test</a>
..[2] <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def levene_test(
    sample_0: SeriesFederated,
    sample_1: SeriesFederated,
) -&gt; Tuple[float, float]:
    &#34;&#34;&#34;
    Perform federated Levene test for equal variances.

        :param sample_0: The first sample of data
        :type sample_0: SeriesFederated
        :param sample_1: The second sample of data
        :type sample_1:  federated series
        :return: F-stat, p-value
        :rtype: Tuple[float, float]


    Definition
    -----------
    The Levene test tests the null hypothesis that all input samples
    are from populations with equal variances.  Levene&#39;s test is an
    alternative to Bartlett&#39;s test `bartlett` in the case where
    there are significant deviations from normality.

    In statistics, Levene’s test is an inferential statistic used to
    evaluate the equality of variances for a variable determined for two
    or more groups. Some standard statistical procedures find that variances
    of the populations from which various samples are formed are equal.
    Levene’s test assesses this assumption. It examines the null hypothesis
    that the population variances are equal called homogeneity of variance or
    homoscedasticity. It compares the variances of k samples, where k can be more
    than two samples.
    It’s an alternative to Bartlett’s test that is less sensitive to
    departures from normality.
    There are several solutions to test for the equality (homogeneity)
    of variance across groups, including:

    -F-test

    -Bartlett’s test

    -Levene’s test

    -Fligner-Killeen test

    Examples
    --------
    Test whether or not the lists `a`, `b` and `c` come from populations
    with equal variances.

    &gt;&gt;&gt; from sail_safe_functions_orchestrator.statistics.levene_test import LeveneTest
    &gt;&gt;&gt; from sail_safe_functions_test.helper_sail_safe_functions.series_federated_local import SeriesFederatedLocal

    &gt;&gt;&gt; sample_0 = SeriesFederatedLocal(&#34;sample_0&#34;)
    &gt;&gt;&gt; sample_0.add_array(&#34;array_test&#34;, np.array([17.2, 20.9, 22.6, 18.1, 21.7, 21.4, 23.5,]) )
    &gt;&gt;&gt; sample_1 = SeriesFederatedLocal(&#34;sample_1&#34;)
    &gt;&gt;&gt; sample_1.add_array(&#34;array_test&#34;, np.array([21.5, 22.8, 21.0, 23.0, 21.6, 23.6, 22.5,]))

    &gt;&gt;&gt; estimator = LeveneTest()
    &gt;&gt;&gt; f_statistic_sail, p_value_sail = estimator.run(sample_0, sample_1)

    The small p-value suggests that the populations do not have equal
    variances.
    This is not surprising, given that the sample variance of `b` is much
    larger than that of `a` and `c`:

    References
    -----------
    ..[1] https://en.wikipedia.org/wiki/Levene%27s_test
    ..[2] https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html


    &#34;&#34;&#34;
    estimator = LeveneTest()
    return estimator.run(sample_0, sample_1)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest"><code class="flex name class">
<span>class <span class="ident">LeveneTest</span></span>
</code></dt>
<dd>
<div class="desc"><p>This class contains the federated Levenes method</p>
<p>:return: f_statistic(statistics from levenes test)
, p-value</p>
<p>:rtype: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class LeveneTest(Estimator):
    &#34;&#34;&#34;
    This class contains the federated Levenes method

    :return: f_statistic(statistics from levenes test)  , p-value

    :rtype: float
    &#34;&#34;&#34;

    def __init__(self) -&gt; None:
        super().__init__([&#34;f_statistic&#34;, &#34;p_value&#34;])

    def run(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
        mean_sample_0 = statistics.mean(sample_0)
        mean_sample_1 = statistics.mean(sample_1)

        list_list_precompute = []
        list_key_dataframe = list(sample_0.dict_series.keys())
        # TODO deal with posibilty sample_0 and sample_1 do net share same child frames
        for key_dataframe in list_key_dataframe:
            list_list_precompute.append(
                LevenePrecompute.run(
                    sample_0.dict_series[key_dataframe],
                    sample_1.dict_series[key_dataframe],
                    mean_sample_0,
                    mean_sample_1,
                )
            )

        f_statistic, dof = LeveneAggregate.run(list_list_precompute)
        p_value = distributions.f.sf(f_statistic, 1, dof)  # 1 - cdf
        return f_statistic, p_value

    def run_reference(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
        return stats.levene(sample_0.to_numpy(), sample_1.to_numpy(), center=&#34;mean&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="sail_safe_functions_orchestrator.statistics.estimator.Estimator" href="estimator.html#sail_safe_functions_orchestrator.statistics.estimator.Estimator">Estimator</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run"><code class="name flex">
<span>def <span class="ident">run</span></span>(<span>self, sample_0: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>, sample_1: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
    mean_sample_0 = statistics.mean(sample_0)
    mean_sample_1 = statistics.mean(sample_1)

    list_list_precompute = []
    list_key_dataframe = list(sample_0.dict_series.keys())
    # TODO deal with posibilty sample_0 and sample_1 do net share same child frames
    for key_dataframe in list_key_dataframe:
        list_list_precompute.append(
            LevenePrecompute.run(
                sample_0.dict_series[key_dataframe],
                sample_1.dict_series[key_dataframe],
                mean_sample_0,
                mean_sample_1,
            )
        )

    f_statistic, dof = LeveneAggregate.run(list_list_precompute)
    p_value = distributions.f.sf(f_statistic, 1, dof)  # 1 - cdf
    return f_statistic, p_value</code></pre>
</details>
</dd>
<dt id="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run_reference"><code class="name flex">
<span>def <span class="ident">run_reference</span></span>(<span>self, sample_0: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>, sample_1: <a title="sail_safe_functions_orchestrator.series_federated.SeriesFederated" href="../series_federated.html#sail_safe_functions_orchestrator.series_federated.SeriesFederated">SeriesFederated</a>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_reference(self, sample_0: SeriesFederated, sample_1: SeriesFederated):
    return stats.levene(sample_0.to_numpy(), sample_1.to_numpy(), center=&#34;mean&#34;)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="sail_safe_functions_orchestrator.statistics" href="index.html">sail_safe_functions_orchestrator.statistics</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="sail_safe_functions_orchestrator.statistics.levene_test.levene_test" href="#sail_safe_functions_orchestrator.statistics.levene_test.levene_test">levene_test</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest" href="#sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest">LeveneTest</a></code></h4>
<ul class="">
<li><code><a title="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run" href="#sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run">run</a></code></li>
<li><code><a title="sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run_reference" href="#sail_safe_functions_orchestrator.statistics.levene_test.LeveneTest.run_reference">run_reference</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>